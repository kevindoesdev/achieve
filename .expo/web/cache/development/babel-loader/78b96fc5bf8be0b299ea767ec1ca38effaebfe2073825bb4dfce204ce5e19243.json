{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { TextInput as PaperTextInput } from \"react-native-paper\";\nimport { useState, useRef } from \"react\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar FocusBlur = function (FocusBlur) {\n  FocusBlur[\"Idle\"] = \"idle\";\n  FocusBlur[\"Focus\"] = \"focus\";\n  FocusBlur[\"Blur\"] = \"blur\";\n  return FocusBlur;\n}(FocusBlur || {});\nexport var TextInput = function TextInput(_ref) {\n  var placeholder = _ref.placeholder,\n    text = _ref.text,\n    onChangeText = _ref.onChangeText,\n    onEndEditing = _ref.onEndEditing;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    editing = _useState2[0],\n    setEditing = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    valueSnapshot = _useState4[0],\n    setValueSnapshot = _useState4[1];\n  var _useState5 = useState(text),\n    _useState6 = _slicedToArray(_useState5, 2),\n    value = _useState6[0],\n    setValue = _useState6[1];\n  var inputRef = useRef(null);\n  var wasEditing = false;\n  return _jsx(PaperTextInput, {\n    placeholder: placeholder,\n    value: value,\n    mode: \"outlined\",\n    ref: inputRef,\n    outlineStyle: {\n      borderWidth: 0\n    },\n    style: {\n      backgroundColor: \"rgba(0, 0, 0, 0.0)\",\n      fontSize: 20\n    },\n    onFocus: function onFocus() {\n      setEditing(true);\n    },\n    onBlur: function onBlur() {\n      wasEditing = true;\n      setEditing(false);\n    },\n    onChangeText: function onChangeText(text) {},\n    onEndEditing: function onEndEditing() {\n      console.log('onEndEditing');\n    },\n    left: _jsx(PaperTextInput.Icon, {\n      style: {\n        top: -8\n      },\n      icon: editing ? \"close\" : \"pencil\",\n      forceTextInputFocus: false,\n      onPress: function onPress() {\n        if (editing) {\n          inputRef.current.blur();\n        } else {\n          inputRef.current.focus();\n        }\n      }\n    })\n  });\n};\nTextInput.defaultProps = {\n  onChangeText: function onChangeText() {},\n  onEndEditing: function onEndEditing() {}\n};\nexport default TextInput;","map":{"version":3,"names":["TextInput","PaperTextInput","useState","useRef","jsx","_jsx","FocusBlur","_ref","placeholder","text","onChangeText","onEndEditing","_useState","_useState2","_slicedToArray","editing","setEditing","_useState3","_useState4","valueSnapshot","setValueSnapshot","_useState5","_useState6","value","setValue","inputRef","wasEditing","mode","ref","outlineStyle","borderWidth","style","backgroundColor","fontSize","onFocus","onBlur","console","log","left","Icon","top","icon","forceTextInputFocus","onPress","current","blur","focus","defaultProps"],"sources":["/home/rocket/git/achieve/src/components/TextInput.tsx"],"sourcesContent":["import { TextInput as PaperTextInput } from \"react-native-paper\";\nimport { TextInput as RNTextInput } from \"react-native\";\nimport { useState, useRef } from \"react\";\n\ninterface Props {\n  placeholder?: string,\n  text: string,\n  onChangeText: (text: string) => void,\n  onEndEditing: (text: string) => void\n}\n\nenum FocusBlur {\n  Idle = 'idle',\n  Focus = 'focus',\n  Blur = 'blur'\n}\n\nexport const TextInput = ({ placeholder, text, onChangeText, onEndEditing }: Props) => {\n  const [editing, setEditing] = useState(false);\n  const [valueSnapshot, setValueSnapshot] = useState('');\n  const [value, setValue] = useState(text);\n  const inputRef = useRef<RNTextInput>(null);\n\n  let wasEditing = false;\n\n  return (\n    <PaperTextInput\n      placeholder={placeholder}\n      value={value}\n      mode=\"outlined\"\n      ref={inputRef}\n      outlineStyle={{ borderWidth: 0 }}\n      style={{\n        backgroundColor: \"rgba(0, 0, 0, 0.0)\",\n        fontSize: 20,\n      }}\n      onFocus={() => {\n        setEditing(true)\n      }}\n      onBlur={() => {\n        wasEditing = true;\n        setEditing(false)\n      }}\n      onChangeText={(text) => {\n        \n      }}\n      onEndEditing={() => {\n        // onEditEditing is never called on web\n        console.log('onEndEditing')\n      }}\n      left={\n        <PaperTextInput.Icon\n          style={{ top: -8 }}\n          icon={editing ? \"close\" : \"pencil\"}\n          forceTextInputFocus={false}\n          onPress={() => {\n            if (editing) {\n              (inputRef as any).current.blur()\n            } else {\n              (inputRef as any).current.focus()\n            }\n          }}\n        />\n      }\n    />\n  );\n};\n\nTextInput.defaultProps = {\n  onChangeText: () => {},\n  onEndEditing: () => {},\n};\n\nexport default TextInput;\n"],"mappings":";AAAA,SAASA,SAAS,IAAIC,cAAc,QAAQ,oBAAoB;AAEhE,SAASC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,IASpCC,SAAS,aAATA,SAAS;EAATA,SAAS;EAATA,SAAS;EAATA,SAAS;EAAA,OAATA,SAAS;AAAA,EAATA,SAAS;AAMd,OAAO,IAAMN,SAAS,GAAG,SAAZA,SAASA,CAAAO,IAAA,EAAiE;EAAA,IAA3DC,WAAW,GAAAD,IAAA,CAAXC,WAAW;IAAEC,IAAI,GAAAF,IAAA,CAAJE,IAAI;IAAEC,YAAY,GAAAH,IAAA,CAAZG,YAAY;IAAEC,YAAY,GAAAJ,IAAA,CAAZI,YAAY;EACvE,IAAAC,SAAA,GAA8BV,QAAQ,CAAC,KAAK,CAAC;IAAAW,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAtCG,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAC1B,IAAAI,UAAA,GAA0Cf,QAAQ,CAAC,EAAE,CAAC;IAAAgB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA/CE,aAAa,GAAAD,UAAA;IAAEE,gBAAgB,GAAAF,UAAA;EACtC,IAAAG,UAAA,GAA0BnB,QAAQ,CAACO,IAAI,CAAC;IAAAa,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAMG,QAAQ,GAAGtB,MAAM,CAAc,IAAI,CAAC;EAE1C,IAAIuB,UAAU,GAAG,KAAK;EAEtB,OACErB,IAAA,CAACJ,cAAc;IACbO,WAAW,EAAEA,WAAY;IACzBe,KAAK,EAAEA,KAAM;IACbI,IAAI,EAAC,UAAU;IACfC,GAAG,EAAEH,QAAS;IACdI,YAAY,EAAE;MAAEC,WAAW,EAAE;IAAE,CAAE;IACjCC,KAAK,EAAE;MACLC,eAAe,EAAE,oBAAoB;MACrCC,QAAQ,EAAE;IACZ,CAAE;IACFC,OAAO,EAAE,SAAAA,QAAA,EAAM;MACblB,UAAU,CAAC,IAAI,CAAC;IAClB,CAAE;IACFmB,MAAM,EAAE,SAAAA,OAAA,EAAM;MACZT,UAAU,GAAG,IAAI;MACjBV,UAAU,CAAC,KAAK,CAAC;IACnB,CAAE;IACFN,YAAY,EAAE,SAAAA,aAACD,IAAI,EAAK,CAExB,CAAE;IACFE,YAAY,EAAE,SAAAA,aAAA,EAAM;MAElByB,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IAC7B,CAAE;IACFC,IAAI,EACFjC,IAAA,CAACJ,cAAc,CAACsC,IAAI;MAClBR,KAAK,EAAE;QAAES,GAAG,EAAE,CAAC;MAAE,CAAE;MACnBC,IAAI,EAAE1B,OAAO,GAAG,OAAO,GAAG,QAAS;MACnC2B,mBAAmB,EAAE,KAAM;MAC3BC,OAAO,EAAE,SAAAA,QAAA,EAAM;QACb,IAAI5B,OAAO,EAAE;UACVU,QAAQ,CAASmB,OAAO,CAACC,IAAI,CAAC,CAAC;QAClC,CAAC,MAAM;UACJpB,QAAQ,CAASmB,OAAO,CAACE,KAAK,CAAC,CAAC;QACnC;MACF;IAAE,CACH;EACF,CACF,CAAC;AAEN,CAAC;AAED9C,SAAS,CAAC+C,YAAY,GAAG;EACvBrC,YAAY,EAAE,SAAAA,aAAA,EAAM,CAAC,CAAC;EACtBC,YAAY,EAAE,SAAAA,aAAA,EAAM,CAAC;AACvB,CAAC;AAED,eAAeX,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}